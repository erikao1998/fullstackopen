{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["PersonForm","add","handleName","handleNumber","name","number","onSubmit","value","onChange","type","Person","person","deletePerson","className","onClick","Filter","handleChange","baseUrl","axios","get","newObject","post","id","delete","put","Notification","errorMessage","console","log","red","message","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","search","setSearch","setErrorMessage","useEffect","service","then","response","data","searchedPerson","find","p","window","confirm","filter","n","setTimeout","catch","error","event","target","preventDefault","list","i","length","nameCheck","changedPerson","map","personObject","concat","key","toUpperCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d046ef9b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({ add, handleName, handleNumber, name, number }) => {\r\n  return (\r\n    <div>\r\n      <h2>add a new</h2>\r\n      <form onSubmit={add}>\r\n        <div>\r\n          name:{' '}\r\n          <input\r\n            value={name}\r\n            onChange={handleName}\r\n          />\r\n        </div>\r\n        <div>\r\n          number:{' '}\r\n          <input\r\n            value={number}\r\n            onChange={handleNumber}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">add</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n  return (\r\n    <pre className='person'>\r\n      {person.name} {person.number} <button onClick={deletePerson}>delete</button>\r\n    </pre>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\n\r\nconst Filter = ({handleChange}) => {\r\n  return (\r\n    <div>\r\n      filter shown with{' '}\r\n      <input\r\n        onChange={handleChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, deletePerson, update }\r\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport service from './services/persons'\n\nconst Notification = ({errorMessage}) => {\n  console.log(\"redErrorin tila on \" + errorMessage.red)\n  if (errorMessage.message === null) {\n    return null\n  }\n\n  if (errorMessage.red === true) {\n\n    return (\n      <div className='redError'>\n        {errorMessage.message}\n      </div>\n    )\n  }\n\n  return (\n    <div className='greenError'>\n     {errorMessage.message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState({message: null, red: true})\n\n  useEffect(() => {\n    service\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  function nameCheck(name, list) {\n\n    for (var i = 0; i < list.length; i++) {\n\n      if (list[i].name === name) {\n        return 1\n      }\n    }\n    return 0\n\n\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('button clicked')\n\n\n    if (nameCheck(newName, persons) === 1) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one`)) {\n        const searchedPerson = persons.find(p => p.name === newName)\n        const changedPerson = { ...searchedPerson, number: newNumber }\n\n        service\n          .update(searchedPerson.id, changedPerson)\n          .then(response => {\n            setPersons(persons.map(person => person.id !== searchedPerson.id ? person : response.data))\n            setErrorMessage({message: `Updated ${searchedPerson.name}'s number`, red: false})\n            setTimeout(() => {\n              setErrorMessage({message: null, red: false})\n            }, 2000)\n\n           })\n            .catch(error => {\n              setErrorMessage({message: `${searchedPerson.name} was already deleted from server`, red: true})\n              // setRedError(true)\n              setTimeout(() => {\n                setErrorMessage({message: null, red: false})\n              }, 2000)\n              // setRedError(false)\n\n\n            })\n\n          }\n    } else {\n\n      const personObject = {\n        name: newName,\n        number: newNumber,\n\n      }\n\n      service\n        .create(personObject)\n        .then(person => {\n          setPersons(persons.concat(person.data))\n          setNewName('')\n          setNewNumber('')\n          setErrorMessage(\n            {message: `Added '${personObject.name}'`, red: false}\n          )\n          setTimeout(() => {\n            setErrorMessage({message: null, red: false})\n          }, 2000)\n        })\n        .catch(error => {\n\n          setErrorMessage({message: `${error.response.data.error}`, red: true})\n\n          setTimeout(() => {\n            setErrorMessage(\n              {message: null, red: false}\n            )\n          }, 3000)\n\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setSearch (event.target.value)\n  }\n\n  const deletePerson = id => {\n    const searchedPerson = persons.find(p => p.id === id)\n    console.log(searchedPerson)\n    if (window.confirm(`Delete ${searchedPerson.name}`))\n    service\n      .deletePerson(id)\n      .then(response => {\n        setPersons(persons.filter(n => n.id !== id))\n        setErrorMessage({message: `Deleted ${searchedPerson.name}`, red: false})\n        setTimeout(() => {\n          setErrorMessage({message: null, red: false})\n        }, 2000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          {message: `${searchedPerson.name} was already deleted from server`, red: true}\n        )\n        // setRedError(true)\n        setTimeout(() => {\n          setErrorMessage({message: null, red: false})\n        }, 2000)\n        // setRedError(false)\n\n      })\n\n\n  }\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification errorMessage={errorMessage}/>\n      <Filter handleChange={handleSearch}/>\n\n      <PersonForm add={addPerson} handleName={handleNameChange} handleNumber={handleNumberChange} name={newName} number={newNumber} />\n\n      <h2>Numbers</h2>\n          {search === ''\n          ? persons.map((person, key) =>\n            <div key={person.id}>\n              <Person person={person} deletePerson={() => deletePerson(person.id)}/>\n            </div>\n            )\n          : persons.filter(person => person.name.toUpperCase().includes(search.toUpperCase()))\n            .map((person, key) =>\n              <div key={person.id}>\n                <Person person={person} deletePerson={() => deletePerson(person.id)}/>\n              </div>\n            )\n          }\n    </div>\n  )\n}\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}